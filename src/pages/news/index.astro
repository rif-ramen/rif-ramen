---
import groq from "groq";
import Layout from "../../layouts/Layout.astro";
import { client } from "../../lib/sanity";
import PageHeader from "../../components/PageHeader.astro";
import ArticleGrid from "../../components/ArticleGrid.astro";
const { title, articles } = await Astro.locals.client
  .fetch(groq`*[_id == 'newsSettings'][0] {
    title,
    "articles": *[_type == 'article' ||Â _type == 'press' && publishedAt < now() && (!defined(isHidden) || !isHidden)] | order(publishedAt desc) {
        _type,
        url,
        publication,
        title,
        slug,
        subtitle,
        publishedAt,
        coverImage
    }
}`);
---

<Layout title={title}>
  <PageHeader title={title} />
  <ArticleGrid articles={articles} />
</Layout>
